{% extends 'layout.html' %}

{% block title %}Training Performance{{ super() }}{% endblock %}

{% block content %}
    <h1>Training Performance</h1>
    <h4>Check out a detailed analysis of how you've performed in your training sessions!</h4>

    <ul class="month_buttons">
        {% for month in months %}
            <a href="{{ url_for('main.performance', month=month) }}"><li class="btn btn-{% if current_month.lower() == month %}primary{% else %}default{% endif %}">{{ month|title }}</li></a>
        {% endfor %}
    </ul>

    <div class="row">
        <div class="col-md-6">
            <h3 class="performance-subtitle calorie-subtitle">{{ current_month|title }} Calorie Progress</h3>

            <div class="progress">
                <div class="progress-bar progress-bar-success running-calories-bar"
                     style="width: {{ user_data.progress_data.running.calories.percentage }}%;"
                     role="progressbar" data-toggle="tooltip"
                     title="{{ user_data.progress_data.running.calories.value }} calories"></div>

                <div class="progress-bar progress-bar-warning cycling-calories-bar"
                     style="width: {{ user_data.progress_data.cycling.calories.percentage }}%;"
                     role="progressbar" data-toggle="tooltip"
                     title="{{ user_data.progress_data.cycling.calories.value }} calories"></div>

                <div class="progress-bar progress-bar-info swimming-calories-bar"
                     style="width: {{ user_data.progress_data.swimming.calories.percentage }}%;"
                     role="progressbar" data-toggle="tooltip"
                     title="{{ user_data.progress_data.swimming.calories.value }} calories"></div>

            </div>
        </div>

        <div class="col-md-6">
            <h3 class="performance-subtitle hour-subtitle"><span class="month-text">{{ current_month|title }}</span> Hourly
                Progress
            </h3>

            <div class="progress">
                <div class="progress-bar progress-bar-success running-hours-bar"
                     style="width: {{ user_data.progress_data.running.hours.percentage }}%;"
                     role="progressbar" data-toggle="tooltip"
                     title="{{ user_data.progress_data.running.hours.value }} hours"></div>

                <div class="progress-bar progress-bar-warning cycling-hours-bar"
                     style="width: {{ user_data.progress_data.cycling.hours.percentage }}%;"
                     role="progressbar" data-toggle="tooltip"
                     title="{{ user_data.progress_data.cycling.hours.value }} hours"></div>

                <div class="progress-bar progress-bar-info swimming-hours-bar"
                     style="width: {{ user_data.progress_data.swimming.hours.percentage }}%;"
                     role="progressbar" data-toggle="tooltip"
                     title="{{ user_data.progress_data.swimming.hours.value }} hours"></div>
            </div>
        </div>
    </div>

    <canvas id="runningChart" width="1140" height="650"></canvas>
    <canvas id="cyclingChart" width="1140" height="650"></canvas>
    <canvas id="swimmingChart" width="1140" height="650"></canvas>

    <select name="weedledum" class="form-control">
        <option value="running">Running Sessions</option>
        <option value="cycling">Cycling Sessions</option>
        <option value="swimming">Swimming Sessions</option>
    </select>

    <div class="activity-view">
        <a href="#running" roles="tab" data-toggle="tab" aria-controls="running">
            <button class="btn btn-running">View Runs</button>
        </a>

        <a href="#cycling" roles="tab" data-toggle="tab" aria-controls="cycling">
            <button class="btn btn-warning">View Cycles</button>
        </a>

        <a href="#swimming" roles="tab" data-toggle="tab" aria-controls="swimming">
            <button class="btn btn-info">View Swims</button>
        </a>

        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="running">
                <h3>Running Sessions</h3>
                <table id="running-activities" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Speed</th>
                            <th>Calories</th>
                            <th>Hours</th>
                            <th>Rating</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for run in user_data.sport_data.running %}
                            <tr>
                                <td><a href="{{ url_for('main.individual_activity', activity_id=run.id) }}">{{ run.date }}</a></td>
                                <td>{{ run.effigy }}</td>
                                <td>{{ run.calories }} calories</td>
                                <td>{{ run.hours }} hours</td>
                                <td>{{ run.opinion }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="cycling">
                <h3>Cycling Sessions</h3>
                <table id="cycling-activities" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Speed</th>
                            <th>Calories</th>
                            <th>Hours</th>
                            <th>Rating</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for cycle in user_data.sport_data.cycling %}
                            <tr>
                                <td><a href="{{ url_for('main.individual_activity', activity_id=cycle.id) }}">{{ cycle.date }}</a></td>
                                <td>{{ cycle.effigy }}</td>
                                <td>{{ cycle.calories }} calories</td>
                                <td>{{ cycle.hours }} hours</td>
                                <td>{{ cycle.opinion }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="swimming">
                <h3>Swimming Sessions</h3>
                <table id="swimming-activities" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Speed</th>
                            <th>Calories</th>
                            <th>Hours</th>
                            <th>Rating</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for swim in user_data.sport_data.swimming %}
                            <tr>
                                <td><a href="{{ url_for('main.individual_activity', activity_id=swim.id) }}">{{ swim.date }}</a></td>
                                <td>{{ swim.effigy }}</td>
                                <td>{{ swim.calories }} calories</td>
                                <td>{{ swim.hours }} hours</td>
                                <td>{{ swim.opinion }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <br/>
    <br/>

{% endblock %}